<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>注册页面</title>
    <script th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/4.0.0/js/bootstrap.min.js}"></script>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.0.0/css/bootstrap.min.css}">
</head>
<body>
<form method="post"  th:action="@{/register}">
   ID: <input name="id" type="text">
   NAME:<input name="name" type="text">
   AGE:<input name="age" type="text">
   verifyCode:<input name="verityCode" type="text">
   Email<input id="email" type="email" name="email"><button id="getCode" type="button"> 点击获取邮箱验证码</button>
    <button type="submit">注册</button>
</form>
<script type="text/javascript">
    $("#getCode").click(function () {
        var email = $("#email").val();
        $.ajax({
            url:"getEmail",
            type:"post",
            data:"email="+email,
            dataType:"json",
            success:function (data) {
               if(data.result==="提交成功"){
                   document.getElementById("getCode").disabled=true;
                   setTimeout(function () {
                       document.getElementById("getCode").disabled=false;
                   },5000);
               }
            }
        });
    })
</script>
</body>
</html>