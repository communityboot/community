<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" th:href="@{/static/layui/css/layui.css}" media="all">
<table id="dict"></table>
<script type="text/javascript" th:src="@{/static/layui/layui.js}" ></script>
<script>
    //JavaScript代码区域
    layui.use('element', function(){
        var element = layui.element;
    });
</script>
<script th:inline="none">

    layui.config({
        base: '/static/layui/lay/modules/'
    }).extend({
        treetable: 'treetable-lay/treetable'
    }).use(['layer', 'table', 'treetable'], function () {
        var $ = layui.jquery;
        var table = layui.table;
        var layer = layui.layer;
        var treetable = layui.treetable;

        // 渲染表格
        var renderTable = function () {//树桩表格参考文档：https://gitee.com/whvse/treetable-lay
            alert("123")
            layer.load(2);
            treetable.render({
                treeColIndex: 1,//树形图标显示在第几列
                treeSpid: 0,//最上级的父级id
                treeIdName: 'menuId',//id字段的名称
                treePidName: 'parentId',//pid字段的名称
                treeDefaultClose: false,//是否默认折叠
                treeLinkage: true,//父级展开时是否自动展开所有子级
                elem: '#dict',
                url: '/menu/list',
                page: false,
                cols: [[
                    {field: 'menuId', title: '编号'},
                    {field: 'menuName', title: '菜单名称'},
                    {field: 'url', title: '资源路径'},
                    {field: 'orderNum', title: '排序'},
                    {
                        field: 'resType', title: '类型',
                        templet: function (d) {
                            if (d.menuType == 'M') {
                                return '目录';
                            } else if(d.menuType == 'C'){
                                return '菜单';
                            }else {
                                return '按钮';
                            }
                        }
                    },
                ]],
                done: function () {
                    layer.closeAll('loading');
                }
            });
        };

        renderTable();

    });

</script>

</html>