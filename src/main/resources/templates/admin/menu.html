<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link href="" rel="stylesheet">
    <link rel="stylesheet" href="https://www.layuicdn.com/layui/css/layui.css">
</head>

<body>
<div id="demo"></div>
<table class="layui-hide" id="menu" lay-filter="menu"></table>
</body>
<script th:src="@{/static/layui/layui.js}"></script>
<script type="text/javascript">


    layui.config({
        base: '/static/layui/lay/modules/'
    }).extend({
        treetable: 'treetable-lay/treetable',
    });

    layui.use(['treetable', 'table', 'layer','jquery'], function () {
        var $ = layui.jquery;
        var table = layui.table;
        var treetable = layui.treetable;

        // 渲染表格
        var renderTable = function () {
            layer.load(2);
            treetable.render({
                treeColIndex: 1,
                treeSpid: -1,
                treeIdName: 'Menuid',//自身的id
                treePidName: 'parentid',//父节点的id
                elem: '#menu',
                data: '/menu/list',//这里可以去看文档,可以用url,也可以直接使用json字符串
                page: false,//不可分页

                cols: [{//表头格式
                    type: 'numbers'
                }, {
                    field: 'menuName',//对于的json字符的键
                    minWidth: 200,//宽度
                    title: '权限名称'
                }, {
                    field: 'Authid',
                    title: '权限标识'
                }, {
                    field: 'href',
                    title: '菜单url'
                },
                    {
                        field: 'mark',
                        title: '备注'
                    }, {
                        templet: '#auth-state',
                        width: 220,
                        align: 'center',
                        title: '操作'
                    }],
                done: function () {
                    layer.closeAll('loading');
                },

            });
        }

        renderTable();
    })

</script>


</html>